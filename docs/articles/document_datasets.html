<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Documenting r2dii datasets • r2dii</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Documenting r2dii datasets">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">r2dii</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/r2dii.html">Get started</a>
</li>
<li>
  <a href="../articles/reference.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/document_datasets.html">Documenting r2dii datasets</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Changelog
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://2degreesinvesting.github.io/r2dii.dataraw/news/index.html">r2dii.dataraw</a>
    </li>
    <li>
      <a href="https://2degreesinvesting.github.io/r2dii.utils/news/index.html">r2dii.utils</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/maurolepore/">
    <span class="fa fa-gavel"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/2DegreesInvesting/r2dii/">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Documenting r2dii datasets</h1>
                        <h4 class="author">Mauro Lepore</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/2DegreesInvesting/r2dii/blob/master/vignettes/document_datasets.Rmd"><code>vignettes/document_datasets.Rmd</code></a></small>
      <div class="hidden name"><code>document_datasets.Rmd</code></div>

    </div>

    
    
<p>This article provides guidelines to document r2dii datasets, which should make it easier to understand existing datasets and to add new ones. The guidelines are aspirational, so not all r2dii datasets may follow this guidelines. Feel free to <a href="https://github.com/2DegreesInvesting/r2dii/issues/new">propose changes</a>.</p>
<div id="documenting-generic-datasets" class="section level3">
<h3 class="hasAnchor">
<a href="#documenting-generic-datasets" class="anchor"></a>Documenting generic datasets</h3>
<p>Generic datasets (e.g. <code>loanbook</code>) should have these components:</p>
<ul>
<li>A generic English name that is meaningful to everyone (e.g. <code>loanbook</code>). Prefer meaningful words over shorter obscure abbreviations or acronyms (e.g. <code>loanbook</code> or <code>loans</code> is meaningful for more people than <code>lbk</code>). You don’t have to type long names in full – use auto-completion.</li>
</ul>
<p><img src="https://i.imgur.com/jiCNF8e.png" height="150/"></p>
<ul>
<li>A help file including:
<ul>
<li>A generic title and description that applies to any similar dataset.</li>
<li>
<code>@name &lt;generic&gt;_description</code> (e.g. <code>loanbook_description</code>).</li>
<li>
<code>@seealso [data_dictionary]</code>.</li>
<li>
<code>@family</code> linking to similar datasets.</li>
<li>
<code>@examples</code> showing the definitions of the generic dataset columns.</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># R/loanbook_description.R </span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">#' Description of a generic loanbook dataset</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">#'</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co">#' Data on loans and borrowers. The information is usually owned by banks and</span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="co">#' extreemly private.</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">#'</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="co">#' @name loanbook_description</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co">#' @seealso data_dictionary</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="co">#' @family bank datasets</span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="co">#' @examples</span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="co">#' library(dplyr)</span></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="co">#'</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="co">#' data_dictionary %&gt;%</span></a>
<a class="sourceLine" id="cb1-15" title="15"><span class="co">#'   filter(dataset == "loanbook")</span></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="ot">NULL</span></a></code></pre></div>
<p>(The helpfile of generic objects is associated to no object in particular, so you need <code>NULL</code> for the documentation process to work.)</p>
<ul>
<li>Rows in <code>data_dictionary</code> defining the each column of the generic dataset.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="co">#&gt; Attaching package: 'dplyr'</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co">#&gt; The following objects are masked from 'package:stats':</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="co">#&gt;     filter, lag</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co">#&gt; The following objects are masked from 'package:base':</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="co">#&gt;     intersect, setdiff, setequal, union</span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(r2dii)</a>
<a class="sourceLine" id="cb2-11" title="11"><span class="co">#&gt; Loading required package: r2dii.dataraw</span></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="co">#&gt; Loading required package: r2dii.utils</span></a>
<a class="sourceLine" id="cb2-13" title="13"></a>
<a class="sourceLine" id="cb2-14" title="14">generic_dataset &lt;-<span class="st"> "loanbook"</span></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="kw">data_dictionary</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(dataset <span class="op">==</span><span class="st"> </span>generic_dataset)</a>
<a class="sourceLine" id="cb2-17" title="17"><span class="co">#&gt; # A tibble: 18 x 4</span></a>
<a class="sourceLine" id="cb2-18" title="18"><span class="co">#&gt;    dataset  column              typeof  definition                         </span></a>
<a class="sourceLine" id="cb2-19" title="19"><span class="co">#&gt;    &lt;chr&gt;    &lt;chr&gt;               &lt;chr&gt;   &lt;chr&gt;                              </span></a>
<a class="sourceLine" id="cb2-20" title="20"><span class="co">#&gt;  1 loanbook fi_type             charac~ Financial instrument name or asset~</span></a>
<a class="sourceLine" id="cb2-21" title="21"><span class="co">#&gt;  2 loanbook flag_project_finan~ charac~ Project finance flag denoting whet~</span></a>
<a class="sourceLine" id="cb2-22" title="22"><span class="co">#&gt;  3 loanbook id_direct_loantaker charac~ Borrower identifier unique to each~</span></a>
<a class="sourceLine" id="cb2-23" title="23"><span class="co">#&gt;  4 loanbook id_loan             charac~ Unique loan identifier             </span></a>
<a class="sourceLine" id="cb2-24" title="24"><span class="co">#&gt;  5 loanbook id_ultimate_parent  charac~ Ultimate parent identifier unique ~</span></a>
<a class="sourceLine" id="cb2-25" title="25"><span class="co">#&gt;  6 loanbook isin_direct_loanta~ logical Optional input: providing the isin~</span></a>
<a class="sourceLine" id="cb2-26" title="26"><span class="co">#&gt;  7 loanbook lei_direct_loantak~ logical Optional input: providing the lei ~</span></a>
<a class="sourceLine" id="cb2-27" title="27"><span class="co">#&gt;  8 loanbook loan_size_credit_l~ double  Total credit limit or exposure at ~</span></a>
<a class="sourceLine" id="cb2-28" title="28"><span class="co">#&gt;  9 loanbook loan_size_credit_l~ charac~ Currency corresponding to credit l~</span></a>
<a class="sourceLine" id="cb2-29" title="29"><span class="co">#&gt; 10 loanbook loan_size_outstand~ double  Amount drawn by borrower from tota~</span></a>
<a class="sourceLine" id="cb2-30" title="30"><span class="co">#&gt; 11 loanbook loan_size_outstand~ charac~ Currency corresponding to outstand~</span></a>
<a class="sourceLine" id="cb2-31" title="31"><span class="co">#&gt; 12 loanbook name_direct_loanta~ charac~ Name of the company directly takin~</span></a>
<a class="sourceLine" id="cb2-32" title="32"><span class="co">#&gt; 13 loanbook name_intermediate_~ logical Optional input: name of intermedia~</span></a>
<a class="sourceLine" id="cb2-33" title="33"><span class="co">#&gt; 14 loanbook name_project        logical Required input for loans with the ~</span></a>
<a class="sourceLine" id="cb2-34" title="34"><span class="co">#&gt; 15 loanbook name_ultimate_pare~ charac~ Name of the ultimate parent compan~</span></a>
<a class="sourceLine" id="cb2-35" title="35"><span class="co">#&gt; 16 loanbook sector_classificat~ double  Sector classification code of the ~</span></a>
<a class="sourceLine" id="cb2-36" title="36"><span class="co">#&gt; 17 loanbook sector_classificat~ charac~ Flag identifying if the sector cla~</span></a>
<a class="sourceLine" id="cb2-37" title="37"><span class="co">#&gt; 18 loanbook sector_classificat~ charac~ Name of the sector classification ~</span></a></code></pre></div>
</div>
<div id="documenting-specific-datasets" class="section level3">
<h3 class="hasAnchor">
<a href="#documenting-specific-datasets" class="anchor"></a>Documenting specific datasets</h3>
<p>Specific datasets (e.g. <code>loanbook</code>) should have these components:</p>
<ul>
<li>
<p>A name like so: <code>&lt;generic&gt;_&lt;details&gt;</code>:</p>
<ul>
<li><p><code>&lt;generic&gt;</code>: Identical to the <code>&lt;generic&gt;</code> component in <code>&lt;generic&gt;_description</code> (see <a href="#documenting-generic-datasets">Documenting generic datasets</a>).</p></li>
<li><p><code>&lt;details&gt;</code>: A single string indicating the most prominent characteristic of the specific dataset.</p></li>
</ul>
</li>
</ul>
<p>For example, if your data is a kind of loanbook dataset, and it is only for demonstrations, examples, and tests, then a good name for it would be <code>loanbook_demo</code>. This format works well with auto-completion.</p>
<p><img src="https://i.imgur.com/j2QmmKE.png" height="150"></p>
<ul>
<li>A help file including:
<ul>
<li>A title and description that applies to the specific dataset.</li>
<li>
<code>@seealso [data_dictionary]</code>.</li>
<li>
<code>@family</code> linking to similar datasets if any.</li>
<li>
<code>@examples</code> giving an overview of the dataset.</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="co"># R/loanbook_demo.R </span></a>
<a class="sourceLine" id="cb3-2" title="2"></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co">#' A loanbook dataset for demonstration</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">#'</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co">#' This is a public dataset that may be used as a template for banks to create</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co">#' their own loanbook datasets. It is also useful for examples and tests.</span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">#'</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="co">#' @family demo datasets</span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="co">#' @seealso data_dictionary</span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="co">#' @examples</span></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="co">#' loanbook_demo</span></a>
<a class="sourceLine" id="cb3-12" title="12"><span class="st">"loanbook_demo"</span></a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#documenting-generic-datasets">Documenting generic datasets</a></li>
      <li><a href="#documenting-specific-datasets">Documenting specific datasets</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/maurolepore/">Mauro Lepore</a>, Jackson Hoffart, Klaus Hagedorn, Daan Koopman, Clare Murray, Florence Palandri, <a href="https://2degrees-investing.org/">2 Degrees Investing Initiative</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
